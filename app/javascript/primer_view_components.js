!function(e){"use strict";function t(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function n(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function i(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError;const r=new WeakSet;function o(e){c(e),a(e)}const s=new WeakMap;function a(e=document){if(s.has(e))return s.get(e);let t=!1;const n=new MutationObserver((e=>{for(const t of e)if("attributes"===t.type&&t.target instanceof Element)u(t.target);else if("childList"===t.type&&t.addedNodes.length)for(const e of t.addedNodes)e instanceof Element&&c(e)}));n.observe(e,{childList:!0,subtree:!0,attributeFilter:["data-action"]});const i={get closed(){return t},unsubscribe(){t=!0,s.delete(e),n.disconnect()}};return s.set(e,i),i}function c(e){for(const t of e.querySelectorAll("[data-action]"))u(t);e instanceof Element&&e.hasAttribute("data-action")&&u(e)}function l(e){const t=e.currentTarget;for(const n of d(t))if(e.type===n.type){const i=t.closest(n.tag);r.has(i)&&"function"==typeof i[n.method]&&i[n.method](e);const o=t.getRootNode();if(o instanceof ShadowRoot&&r.has(o.host)&&o.host.matches(n.tag)){const t=o.host;"function"==typeof t[n.method]&&t[n.method](e)}}}function*d(e){for(const t of(e.getAttribute("data-action")||"").trim().split(/\s+/)){const e=t.lastIndexOf(":"),n=Math.max(0,t.lastIndexOf("#"))||t.length;yield{type:t.slice(0,e),tag:t.slice(e+1,n),method:t.slice(n+1)||"handleEvent"}||"handleEvent"}}function u(e){for(const t of d(e))e.addEventListener(t.type,l)}const h=e=>String("symbol"==typeof e?e.description:e).replace(/([A-Z]($|[a-z]))/g,"-$1").replace(/--/g,"-").replace(/^-|-$/,"").toLowerCase(),f=(e,t="property")=>{const n=h(e);if(!n.includes("-"))throw new DOMException(`${t}: ${String(e)} is not a valid ${t} name`,"SyntaxError");return n};const g="attr";const m=new WeakSet;function p(e,t){if(m.has(e))return;m.add(e);const n=Object.getPrototypeOf(e),i=n?.constructor?.attrPrefix??"data-";t||(t=L(n,g));for(const n of t){const t=e[n],r=f(`${i}${n}`);let o={configurable:!0,get(){return this.getAttribute(r)||""},set(e){this.setAttribute(r,e||"")}};"number"==typeof t?o={configurable:!0,get(){return Number(this.getAttribute(r)||0)},set(e){this.setAttribute(r,e)}}:"boolean"==typeof t&&(o={configurable:!0,get(){return this.hasAttribute(r)},set(e){this.toggleAttribute(r,e)}}),Object.defineProperty(e,n,o),n in e&&!e.hasAttribute(r)&&o.set.call(e,t)}}const b=new Map,w=new Promise((e=>{"loading"!==document.readyState?e():document.addEventListener("readystatechange",(()=>e()),{once:!0})})),v=new Promise((e=>{const t=new AbortController;t.signal.addEventListener("abort",(()=>e()));const n={once:!0,passive:!0,signal:t.signal},i=()=>t.abort();document.addEventListener("mousedown",i,n),document.addEventListener("touchstart",i,n),document.addEventListener("keydown",i,n),document.addEventListener("pointerdown",i,n)})),A={ready:()=>w,firstInteraction:()=>v,visible:e=>new Promise((t=>{const n=new IntersectionObserver((e=>{for(const i of e)if(i.isIntersecting)return t(),void n.disconnect()}),{rootMargin:"0px 0px 256px 0px",threshold:.01});for(const t of document.querySelectorAll(e))n.observe(t)}))},E=new WeakMap;function y(e){cancelAnimationFrame(E.get(e)||0),E.set(e,requestAnimationFrame((()=>{for(const t of b.keys()){const n=e instanceof Element&&e.matches(t)?e:e.querySelector(t);if(customElements.get(t)||n){const i=n?.getAttribute("data-load-on")||"ready",r=i in A?A[i]:A.ready;for(const e of b.get(t)||[])r(t).then(e);b.delete(t),E.delete(e)}}})))}let T;const S=Symbol.for("catalyst");class k{constructor(e){const t=this,n=e.prototype.connectedCallback;e.prototype.connectedCallback=function(){t.connectedCallback(this,n)};const i=e.prototype.disconnectedCallback;e.prototype.disconnectedCallback=function(){t.disconnectedCallback(this,i)};const r=e.prototype.attributeChangedCallback;e.prototype.attributeChangedCallback=function(e,n,i){t.attributeChangedCallback(this,e,n,i,r)};let o=e.observedAttributes||[];Object.defineProperty(e,"observedAttributes",{configurable:!0,get(){return t.observedAttributes(this,o)},set(e){o=e}}),function(e){let t=e.observedAttributes||[];const n=e.attrPrefix??"data-",i=e=>f(`${n}${e}`);Object.defineProperty(e,"observedAttributes",{configurable:!0,get:()=>[...L(e.prototype,g)].map(i).concat(t),set(e){t=e}})}(e),function(e){const t=h(e.name).replace(/-element$/,"");try{window.customElements.define(t,e),window[e.name]=customElements.get(t)}catch(e){if(!(e instanceof DOMException&&"NotSupportedError"===e.name))throw e}}(e)}observedAttributes(e,t){return t}connectedCallback(e,t){e.toggleAttribute("data-catalyst",!0),customElements.upgrade(e),function(e){for(const t of e.querySelectorAll("template[data-shadowroot]"))t.parentElement===e&&e.attachShadow({mode:"closed"===t.getAttribute("data-shadowroot")?"closed":"open"}).append(t.content.cloneNode(!0))}(e),p(e),function(e){r.add(e),e.shadowRoot&&o(e.shadowRoot),c(e),a(e.ownerDocument)}(e),t?.call(e),e.shadowRoot&&(o(e.shadowRoot),function(e){T||(T=new MutationObserver((e=>{if(b.size)for(const t of e)for(const e of t.addedNodes)e instanceof Element&&y(e)}))),y(e),T.observe(e,{subtree:!0,childList:!0})}(e.shadowRoot))}disconnectedCallback(e,t){t?.call(e)}attributeChangedCallback(e,t,n,i,r){p(e),"data-catalyst"!==t&&r&&r.call(e,t,n,i)}}function L(e,t){if(!Object.prototype.hasOwnProperty.call(e,S)){const t=e[S],n=e[S]=new Map;if(t)for(const[e,i]of t)n.set(e,new Set(i))}const n=e[S];return n.has(t)||n.set(t,new Set),n.get(t)}function x(e,t){L(e,"target").add(t),Object.defineProperty(e,t,{configurable:!0,get(){return function(e,t){const n=e.tagName.toLowerCase();if(e.shadowRoot)for(const i of e.shadowRoot.querySelectorAll(`[data-target~="${n}.${t}"]`))if(!i.closest(n))return i;for(const i of e.querySelectorAll(`[data-target~="${n}.${t}"]`))if(i.closest(n)===e)return i}(this,t)}})}function I(e,t){L(e,"targets").add(t),Object.defineProperty(e,t,{configurable:!0,get(){return function(e,t){const n=e.tagName.toLowerCase(),i=[];if(e.shadowRoot)for(const r of e.shadowRoot.querySelectorAll(`[data-targets~="${n}.${t}"]`))r.closest(n)||i.push(r);for(const r of e.querySelectorAll(`[data-targets~="${n}.${t}"]`))r.closest(n)===e&&i.push(r);return i}(this,t)}})}function N(e){new k(e)}var C;class M{constructor(e){this.resizeObserver=new ResizeObserver((e=>{for(const t of e){const e=t.target;e instanceof HTMLElement&&this.update(e)}})),this.resizeObserver.observe(e)}unobserve(e){this.resizeObserver.unobserve(e)}update(e){const t=e.querySelectorAll("li");for(const e of t){const t=e.querySelector(".ActionListItem-label");if(!t)continue;const n=e.querySelector(".ActionListItem-truncationTooltip");if(!n)continue;const i=t.scrollWidth>t.clientWidth;n.style.display=i?"":"none"}}}let P=class ActionListElement extends HTMLElement{constructor(){super(...arguments),C.set(this,void 0)}connectedCallback(){i(this,C,new M(this),"f")}disconnectedCallback(){n(this,C,"f").unobserve(this)}};var V,H,D,F,O,q,R,W;C=new WeakMap,P=t([N],P);let B=class NavListElement extends HTMLElement{constructor(){super(...arguments),V.add(this),H.set(this,void 0)}connectedCallback(){this.topLevelList&&i(this,H,new M(this.topLevelList),"f")}disconnectedCallback(){this.topLevelList&&n(this,H,"f").unobserve(this.topLevelList)}selectItemById(e){if(!e)return!1;const t=n(this,V,"m",D).call(this,e);return!!t&&(n(this,V,"m",q).call(this,t),!0)}selectItemByHref(e){if(!e)return!1;const t=n(this,V,"m",F).call(this,e);return!!t&&(n(this,V,"m",q).call(this,t),!0)}selectItemByCurrentLocation(){const e=n(this,V,"m",O).call(this);return!!e&&(n(this,V,"m",q).call(this,e),!0)}expandItem(e){e.nextElementSibling?.removeAttribute("data-hidden"),e.setAttribute("aria-expanded","true")}collapseItem(e){e.nextElementSibling?.setAttribute("data-hidden",""),e.setAttribute("aria-expanded","false"),e.focus()}itemIsExpanded(e){return"A"===e?.tagName||"true"===e?.getAttribute("aria-expanded")}handleItemWithSubItemClick(e){const t=e.target;if(!(t instanceof HTMLElement))return;const n=t.closest("button");n&&(this.itemIsExpanded(n)?this.collapseItem(n):this.expandItem(n),e.stopPropagation())}handleItemWithSubItemKeydown(e){const t=e.currentTarget;if(!(t instanceof HTMLElement))return;let n=t.closest("button");if(!n){const e=t.getAttribute("aria-labelledby");if(!e)return;n=document.getElementById(e)}this.itemIsExpanded(n)&&"Escape"===e.key&&this.collapseItem(n),e.stopPropagation()}};var $,j,K;H=new WeakMap,V=new WeakSet,D=function(e){for(const t of this.items){if(t.classList.contains("ActionListItem--hasSubItem"))continue;if((t.getAttribute("data-item-id")?.split(" ")||[]).includes(e))return t}return null},F=function(e){const t=this.querySelector(`.ActionListContent[href="${e}"]`);return t?t.closest(".ActionListItem"):null},O=function(){return n(this,V,"m",F).call(this,window.location.pathname)},q=function(e){const t=this.querySelector(".ActionListItem--navActive");t&&n(this,V,"m",R).call(this,t),e.classList.add("ActionListItem--navActive"),e.children.length>0&&e.children[0].setAttribute("aria-current","page");const i=n(this,V,"m",W).call(this,e);i&&(this.expandItem(i),i.classList.add("ActionListContent--hasActiveSubItem"))},R=function(e){e.classList.remove("ActionListItem--navActive"),e.children.length>0&&e.children[0].removeAttribute("aria-current");const t=n(this,V,"m",W).call(this,e);t&&(this.collapseItem(t),t.classList.remove("ActionListContent--hasActiveSubItem"))},W=function(e){if(!e.classList.contains("ActionListItem--subItem"))return null;const t=e.closest("li.ActionListItem--hasSubItem")?.querySelector("button.ActionListContent");return t||null},t([I],B.prototype,"items",void 0),t([x],B.prototype,"topLevelList",void 0),B=t([N],B);let U=class NavListGroupElement extends HTMLElement{constructor(){super(...arguments),$.add(this),K.set(this,new M(this))}connectedCallback(){this.setShowMoreItemState()}get showMoreDisabled(){return this.showMoreItem.hasAttribute("aria-disabled")}set showMoreDisabled(e){e?this.showMoreItem.setAttribute("aria-disabled","true"):this.showMoreItem.removeAttribute("aria-disabled"),this.showMoreItem.classList.toggle("disabled",e)}set currentPage(e){this.showMoreItem.setAttribute("data-current-page",e.toString())}get currentPage(){return parseInt(this.showMoreItem.getAttribute("data-current-page"))||1}get totalPages(){return parseInt(this.showMoreItem.getAttribute("data-total-pages"))||1}get paginationSrc(){return this.showMoreItem.getAttribute("src")||""}async showMore(e){if(e.preventDefault(),this.showMoreDisabled)return;let t;this.showMoreDisabled=!0;try{const e=new URL(this.paginationSrc,window.location.origin);this.currentPage++,e.searchParams.append("page",this.currentPage.toString());const n=await fetch(e);if(!n.ok)return;t=await n.text(),this.currentPage===this.totalPages&&(this.showMoreItem.hidden=!0)}catch(e){return this.showMoreDisabled=!1,void this.currentPage--}const i=n(this,$,"m",j).call(this,document,t);i?.querySelector("li > a")?.setAttribute("data-targets","nav-list-group.focusMarkers");const r=e.target.closest("button").getAttribute("data-list-id");document.getElementById(r).append(i),this.focusMarkers.pop()?.focus(),this.showMoreDisabled=!1}setShowMoreItemState(){this.showMoreItem&&(this.currentPage<this.totalPages?this.showMoreItem.hidden=!1:this.showMoreItem.hidden=!0)}};var _,z;K=new WeakMap,$=new WeakSet,j=function(e,t){const n=e.createElement("template");return n.innerHTML=t,e.importNode(n.content,!0)},t([x],U.prototype,"showMoreItem",void 0),t([I],U.prototype,"focusMarkers",void 0),U=t([N],U),window.NavListGroupElement=U;let J=class SegmentedControlElement extends HTMLElement{constructor(){super(...arguments),_.add(this)}connectedCallback(){n(this,_,"m",z).call(this)}select(e){const t=e.currentTarget;for(const e of this.items)e.classList.remove("SegmentedControl-item--selected"),e.querySelector("[aria-current]")?.setAttribute("aria-current","false");t.closest("li.SegmentedControl-item")?.classList.add("SegmentedControl-item--selected"),t.setAttribute("aria-current","true")}};_=new WeakSet,z=function(){for(const e of this.querySelectorAll(".Button-label"))e.setAttribute("data-content",e.textContent||"")},t([I],J.prototype,"items",void 0),J=t([N],J),window.customElements.get("segmented-control")||(window.SegmentedControlElement=J,window.customElements.define("segmented-control",J));let G=class ToggleSwitchElement extends HTMLElement{constructor(){super(...arguments),this.turbo=!1,this.toggling=!1}get src(){const e=this.getAttribute("src");if(!e)return null;const t=this.ownerDocument.createElement("a");return t.href=e,t.href}get csrf(){const e=this.querySelector("[data-csrf]");return this.getAttribute("data-csrf")||e instanceof HTMLInputElement&&e.value||null}get csrfField(){return this.getAttribute("csrf-field")||"authenticity_token"}isRemote(){return null!=this.src}async toggle(){if(!this.toggling&&(this.toggling=!0,!this.isDisabled())){if(!this.isRemote())return this.performToggle(),void(this.toggling=!1);this.performToggle(),this.setLoadingState();try{await this.submitForm()}catch(e){return void(e instanceof Error&&(this.setErrorState(e.message||"An error occurred, please try again."),this.performToggle()))}finally{this.toggling=!1}this.setSuccessState()}}turnOn(){this.isDisabled()||(this.switch.setAttribute("aria-pressed","true"),this.classList.add("ToggleSwitch--checked"))}turnOff(){this.isDisabled()||(this.switch.setAttribute("aria-pressed","false"),this.classList.remove("ToggleSwitch--checked"))}isOn(){return"true"===this.switch.getAttribute("aria-pressed")}isOff(){return!this.isOn()}isDisabled(){return null!=this.switch.getAttribute("disabled")}disable(){this.switch.setAttribute("disabled","disabled")}enable(){this.switch.removeAttribute("disabled")}performToggle(){this.isOn()?this.turnOff():this.turnOn()}setLoadingState(){this.errorIcon.setAttribute("hidden","hidden"),this.loadingSpinner.removeAttribute("hidden");const e=new CustomEvent("toggleSwitchLoading",{bubbles:!0});this.dispatchEvent(e)}setSuccessState(){const e=new CustomEvent("toggleSwitchSuccess",{bubbles:!0});this.dispatchEvent(e),this.setFinishedState(!1)}setErrorState(e){const t=new CustomEvent("toggleSwitchError",{bubbles:!0,detail:e});this.dispatchEvent(t),this.setFinishedState(!0)}setFinishedState(e){e&&this.errorIcon.removeAttribute("hidden"),this.loadingSpinner.setAttribute("hidden","hidden")}async submitForm(){const e=new FormData;if(this.csrf&&e.append(this.csrfField,this.csrf),e.append("value",this.isOn()?"1":"0"),!this.src)throw new Error("invalid src");let t;const n={"Requested-With":"XMLHttpRequest","X-Requested-With":"XMLHttpRequest"};this.turbo&&(n.Accept="text/vnd.turbo-stream.html");try{t=await fetch(this.src,{credentials:"same-origin",method:"POST",headers:n,body:e})}catch(e){throw new Error("A network error occurred, please try again.")}if(!t.ok)throw new Error(await t.text());const i=t.headers.get("Content-Type");window.Turbo&&this.turbo&&i?.startsWith("text/vnd.turbo-stream.html")&&window.Turbo.renderStreamMessage(await t.text())}};function*X(e,t={}){var n,i;const r=null!==(n=t.strict)&&void 0!==n&&n,o=null!==(i=t.onlyTabbable)&&void 0!==i&&i?Q:Z,s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e instanceof HTMLElement&&o(e,r)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});let a=null;if(!t.reverse&&o(e,r)&&(yield e),t.reverse){let e=s.lastChild();for(;e;)a=e,e=s.lastChild()}else a=s.firstChild();for(;a instanceof HTMLElement;)yield a,a=t.reverse?s.previousNode():s.nextNode();t.reverse&&o(e,r)&&(yield e)}function Z(e,t=!1){const n=["BUTTON","INPUT","SELECT","TEXTAREA","OPTGROUP","OPTION","FIELDSET"].includes(e.tagName)&&e.disabled,i=e.hidden,r=e instanceof HTMLInputElement&&"hidden"===e.type,o=e.classList.contains("sentinel");if(n||i||r||o)return!1;if(t){const t=getComputedStyle(e),n=0===e.offsetWidth||0===e.offsetHeight,i=["hidden","collapse"].includes(t.visibility),r="none"===t.display||!e.offsetParent,o=0===e.getClientRects().length;if(n||i||o||r)return!1}return null!=e.getAttribute("tabindex")||("true"===e.getAttribute("contenteditable")||"plaintext-only"===e.getAttribute("contenteditable")||!(e instanceof HTMLAnchorElement&&null==e.getAttribute("href"))&&-1!==e.tabIndex)}function Q(e,t=!1){return Z(e,t)&&"-1"!==e.getAttribute("tabindex")}t([x],G.prototype,"switch",void 0),t([x],G.prototype,"loadingSpinner",void 0),t([x],G.prototype,"errorIcon",void 0),t([function(e,t){L(e,g).add(t)}],G.prototype,"turbo",void 0),G=t([N],G);let Y,ee=!1;function te(){}try{const e=Object.create({},{signal:{get(){ee=!0}}});window.addEventListener("test",te,e),window.removeEventListener("test",te,e)}catch(e){}function ne(){return void 0===Y&&(Y=/^mac/i.test(window.navigator.platform)),Y}let ie=1e4;var re;ee||(function(){if("undefined"==typeof window)return;const e=EventTarget.prototype.addEventListener;EventTarget.prototype.addEventListener=function(t,n,i){return"object"==typeof i&&"signal"in i&&i.signal instanceof AbortSignal&&e.call(i.signal,"abort",(()=>{this.removeEventListener(t,n,i)})),e.call(this,t,n,i)}}(),ee=!0),function(e){e[e.ArrowHorizontal=1]="ArrowHorizontal",e[e.ArrowVertical=2]="ArrowVertical",e[e.JK=4]="JK",e[e.HL=8]="HL",e[e.HomeAndEnd=16]="HomeAndEnd",e[e.PageUpDown=256]="PageUpDown",e[e.WS=32]="WS",e[e.AD=64]="AD",e[e.Tab=128]="Tab",e[e.Backspace=512]="Backspace",e[e.ArrowAll=3]="ArrowAll",e[e.HJKL=12]="HJKL",e[e.WASD=96]="WASD",e[e.All=511]="All"}(re||(re={}));const oe={ArrowLeft:re.ArrowHorizontal,ArrowDown:re.ArrowVertical,ArrowUp:re.ArrowVertical,ArrowRight:re.ArrowHorizontal,h:re.HL,j:re.JK,k:re.JK,l:re.HL,a:re.AD,s:re.WS,w:re.WS,d:re.AD,Tab:re.Tab,Home:re.HomeAndEnd,End:re.HomeAndEnd,PageUp:re.PageUpDown,PageDown:re.PageUpDown,Backspace:re.Backspace},se={ArrowLeft:"previous",ArrowDown:"next",ArrowUp:"previous",ArrowRight:"next",h:"previous",j:"next",k:"previous",l:"next",a:"previous",s:"next",w:"previous",d:"next",Tab:"next",Home:"start",End:"end",PageUp:"start",PageDown:"end",Backspace:"previous"};function ae(e){const t=se[e.key];if("Tab"===e.key&&e.shiftKey)return"previous";const n=ne();if(n&&e.metaKey||!n&&e.ctrlKey){if("ArrowLeft"===e.key||"ArrowUp"===e.key)return"start";if("ArrowRight"===e.key||"ArrowDown"===e.key)return"end"}return t}const ce="data-is-active-descendant",le="activated-directly",de="activated-indirectly",ue="data-has-active-descendant";function he(e,t){var n,i,r,o,s;const a=[],c=new WeakMap,l=null!==(n=null==t?void 0:t.bindKeys)&&void 0!==n?n:((null==t?void 0:t.getNextFocusable)?re.ArrowAll:re.ArrowVertical)|re.HomeAndEnd,d=null!==(i=null==t?void 0:t.focusOutBehavior)&&void 0!==i?i:"stop",u=null!==(r=null==t?void 0:t.focusInStrategy)&&void 0!==r?r:"previous",h=null==t?void 0:t.activeDescendantControl,f=null==t?void 0:t.onActiveDescendantChanged;let g;const m=null!==(o=null==t?void 0:t.preventScroll)&&void 0!==o&&o;function p(){return a[0]}function b(e,t=!1){const n=g;g=e,h?e&&document.activeElement===h?w(n,e,t):v():(n&&n!==e&&c.has(n)&&n.setAttribute("tabindex","-1"),null==e||e.setAttribute("tabindex","0"))}function w(t,n,i=!1){n.id||n.setAttribute("id","__primer_id_"+ie++),t&&t!==n&&t.removeAttribute(ce),h&&(i||h.getAttribute("aria-activedescendant")!==n.id)&&(h.setAttribute("aria-activedescendant",n.id),e.setAttribute(ue,n.id),n.setAttribute(ce,i?le:de),null==f||f(n,t,i))}function v(t=g){"first"===u&&(g=void 0),null==h||h.removeAttribute("aria-activedescendant"),e.removeAttribute(ue),null==t||t.removeAttribute(ce);for(const t of e.querySelectorAll(`[${ce}]`))null==t||t.removeAttribute(ce);null==f||f(void 0,t,!1)}function A(...e){const n=e.filter((e=>{var n,i;return null===(i=null===(n=null==t?void 0:t.focusableElementFilter)||void 0===n?void 0:n.call(t,e))||void 0===i||i}));if(0!==n.length){a.splice(function(e){const t=e[0];if(0===a.length)return 0;let n=0,i=a.length-1;for(;n<=i;){const e=Math.floor((n+i)/2);E(t,a[e])?i=e-1:n=e+1}return n}(n),0,...n);for(const e of n)c.has(e)||c.set(e,e.getAttribute("tabindex")),e.setAttribute("tabindex","-1");g||b(p())}}function E(e,t){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)>0}function y(...e){for(const t of e){const e=a.indexOf(t);e>=0&&a.splice(e,1);const n=c.get(t);if(void 0!==n&&(null===n?t.removeAttribute("tabindex"):t.setAttribute("tabindex",n),c.delete(t)),t===g){b(p())}}}const T={reverse:null==t?void 0:t.reverse,strict:null==t?void 0:t.strict,onlyTabbable:null==t?void 0:t.onlyTabbable};A(...X(e,T));b("function"==typeof u?u(document.body):p());new MutationObserver((e=>{for(const t of e){for(const e of t.removedNodes)e instanceof HTMLElement&&y(...X(e));"attributes"===t.type&&null===t.oldValue&&t.target instanceof HTMLElement&&y(t.target)}for(const t of e){for(const e of t.addedNodes)e instanceof HTMLElement&&A(...X(e,T));"attributes"===t.type&&null!==t.oldValue&&t.target instanceof HTMLElement&&A(t.target)}})).observe(e,{subtree:!0,childList:!0,attributeFilter:["hidden","disabled"],attributeOldValue:!0});const S=new AbortController,k=null!==(s=null==t?void 0:t.abortSignal)&&void 0!==s?s:S.signal;let L;k.addEventListener("abort",(()=>{y(...a)})),e.addEventListener("mousedown",(e=>{e.target instanceof HTMLElement&&e.target!==document.activeElement&&(L=a.indexOf(e.target))}),{signal:k}),h?(e.addEventListener("focusin",(e=>{e.target instanceof HTMLElement&&a.includes(e.target)&&(h.focus({preventScroll:m}),b(e.target))}),{signal:k}),e.addEventListener("mousemove",(({target:e})=>{if(!(e instanceof Node))return;const t=a.find((t=>t.contains(e)));t&&b(t)}),{signal:k,capture:!0}),h.addEventListener("focusin",(()=>{g?w(void 0,g):b(p())}),{signal:k}),h.addEventListener("focusout",(()=>{v()}),{signal:k})):e.addEventListener("focusin",(t=>{if(t.target instanceof HTMLElement)if(void 0!==L)L>=0&&a[L]!==g&&b(a[L]),L=void 0;else if("previous"===u)b(t.target);else if("closest"===u||"first"===u){if(t.relatedTarget instanceof Element&&!e.contains(t.relatedTarget)){const e="previous"===I?a.length-1:0,t=a[e];return void(null==t||t.focus({preventScroll:m}))}b(t.target)}else if("function"==typeof u)if(t.relatedTarget instanceof Element&&!e.contains(t.relatedTarget)){const e=u(t.relatedTarget);if((e?a.indexOf(e):-1)>=0&&e instanceof HTMLElement)return void e.focus({preventScroll:m});console.warn("Element requested is not a known focusable element.")}else b(t.target);I=void 0}),{signal:k});const x=null!=h?h:e;let I;return"closest"===u&&document.addEventListener("keydown",(e=>{"Tab"===e.key&&(I=ae(e))}),{signal:k,capture:!0}),x.addEventListener("keydown",(n=>{var i;if(n.key in se){const r=oe[n.key];if(!n.defaultPrevented&&(r&l)>0&&!function(e,t){const n=e.key,i=[...n].length,r=t instanceof HTMLInputElement&&"text"===t.type||t instanceof HTMLTextAreaElement;if(r&&(1===i||"Home"===n||"End"===n))return!0;if(t instanceof HTMLSelectElement){if(1===i)return!0;if("ArrowDown"===n&&ne()&&!e.metaKey)return!0;if("ArrowDown"===n&&!ne()&&e.altKey)return!0}if(t instanceof HTMLTextAreaElement&&("PageUp"===n||"PageDown"===n))return!0;if(r){const e=t,i=0===e.selectionStart&&0===e.selectionEnd,r=e.selectionStart===e.value.length&&e.selectionEnd===e.value.length;if("ArrowLeft"===n&&!i)return!0;if("ArrowRight"===n&&!r)return!0;if(e instanceof HTMLTextAreaElement){if("ArrowUp"===n&&!i)return!0;if("ArrowDown"===n&&!r)return!0}}return!1}(n,document.activeElement)){const r=ae(n);let o;if((null==t?void 0:t.getNextFocusable)&&(o=t.getNextFocusable(r,null!==(i=document.activeElement)&&void 0!==i?i:void 0,n)),!o){const t=function(){if(!g)return 0;const t=a.indexOf(g);return-1!==t?t:g===e?-1:0}();let i=t;"previous"===r?i-=1:"start"===r?i=0:"next"===r?i+=1:i=a.length-1,i<0&&(i="wrap"===d&&"Tab"!==n.key?a.length-1:0),i>=a.length&&(i="wrap"===d&&"Tab"!==n.key?0:a.length-1),t!==i&&(o=a[i])}h?b(o||g,!0):o&&(I=r,o.focus({preventScroll:m})),("Tab"!==n.key||o)&&n.preventDefault()}}}),{signal:k}),S}function fe(e){he(e,{bindKeys:re.ArrowVertical|re.ArrowHorizontal|re.HomeAndEnd|re.Backspace,getNextFocusable:(e,t,n)=>{if(t instanceof HTMLElement){try{if(t.closest("dialog:modal"))return}catch{}return function(e,t){switch(`${function(e){if("treeitem"!==e.getAttribute("role"))throw new Error("Element is not a treeitem");switch(e.getAttribute("aria-expanded")){case"true":return"open";case"false":return"closed";default:return"end"}}(e)} ${t.key}`){case"open ArrowRight":return function(e){const t=e.querySelector("[role=treeitem]");return t instanceof HTMLElement?t:void 0}(e);case"open ArrowLeft":case"closed ArrowRight":case"end ArrowRight":return;case"closed ArrowLeft":case"end ArrowLeft":return pe(e)}switch(t.key){case"ArrowUp":return ge(e,"previous");case"ArrowDown":return ge(e,"next");case"Backspace":return pe(e)}}(t,n)??t}},focusInStrategy:()=>{let t=e.querySelector("[aria-current]");t=t?.checkVisibility()?t:null;const n=e.querySelector('[role="treeitem"]');return t instanceof HTMLElement?t:document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&"treeitem"===document.activeElement.getAttribute("role")?document.activeElement:n instanceof HTMLElement?n:void 0}})}function ge(e,t){const n=e.closest("[role=tree]");if(!n)return;const i=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,(e=>e instanceof HTMLElement&&"treeitem"===e.getAttribute("role")?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP));let r=i.firstChild();for(;r!==e;)r=i.nextNode();let o="next"===t?i.nextNode():i.previousNode();for(;o instanceof HTMLElement&&me(o,n);)o="next"===t?i.nextNode():i.previousNode();return o instanceof HTMLElement?o:void 0}function me(e,t){for(const n of t.querySelectorAll("[role=treeitem][aria-expanded=false]"))if(e!==n&&n.closest("li")?.contains(e))return n;return null}function pe(e){const t=e.closest("[role=group]"),n=t?.closest("[role=treeitem]");return n instanceof HTMLElement?n:void 0}var be,we,ve,Ae,Ee,ye,Te,Se,ke,Le,xe;e.TreeViewElement=class TreeViewElement extends HTMLElement{constructor(){super(...arguments),be.add(this),we.set(this,void 0)}connectedCallback(){const{signal:e}=i(this,we,new AbortController,"f");this.addEventListener("click",this,{signal:e}),this.addEventListener("focusin",this,{signal:e}),this.addEventListener("keydown",this,{signal:e}),fe(this),new MutationObserver((e=>{for(const t of e)for(const e of t.addedNodes)e instanceof HTMLElement&&e.querySelector("[aria-expanded=true]")&&n(this,be,"m",ve).call(this,e)})).observe(this,{childList:!0,subtree:!0});new MutationObserver((e=>{if(!this.formInputContainer)return;if(!e.some((e=>e.target instanceof HTMLElement&&e.target.getAttribute("aria-checked")!==e.oldValue)))return;const t=[];for(const e of this.querySelectorAll("[role=treeitem][aria-checked=true]")){const n=this.formInputPrototype.cloneNode();n.removeAttribute("data-target"),n.removeAttribute("form");const i={path:this.getNodePath(e)},r=this.getFormInputValueForNode(e);r&&(i.value=r),n.value=JSON.stringify(i),t.push(n)}this.formInputContainer.replaceChildren(...t)})).observe(this,{childList:!0,subtree:!0,attributeFilter:["aria-checked"]}),customElements.whenDefined("tree-view-sub-tree-node").then((()=>{n(this,be,"m",ve).call(this,this)}))}disconnectedCallback(){n(this,we,"f").abort()}handleEvent(e){const t=n(this,be,"m",Ee).call(this,e);t&&n(this,be,"m",ye).call(this,t,e)}getFormInputValueForNode(e){return e.getAttribute("data-value")}getNodePath(e){const t=e.getAttribute("data-path");return t?JSON.parse(t):[]}getNodeType(e){return e.getAttribute("data-node-type")}markCurrentAtPath(e){const t=JSON.stringify(e),n=this.querySelector(`[data-path="${CSS.escape(t)}"`);n&&(this.currentNode?.setAttribute("aria-current","false"),n.setAttribute("aria-current","true"))}get currentNode(){return this.querySelector("[aria-current=true]")}expandAtPath(e){const t=this.subTreeAtPath(e);t&&t.expand()}collapseAtPath(e){const t=this.subTreeAtPath(e);t&&t.collapse()}toggleAtPath(e){const t=this.subTreeAtPath(e);t&&t.toggle()}checkAtPath(e){const t=this.nodeAtPath(e);t&&this.setNodeCheckedValue(t,"true")}uncheckAtPath(e){const t=this.nodeAtPath(e);t&&this.setNodeCheckedValue(t,"false")}toggleCheckedAtPath(e){const t=this.nodeAtPath(e);t&&"leaf"===this.getNodeType(t)&&("true"===this.getNodeCheckedValue(t)?this.uncheckAtPath(e):this.checkAtPath(e))}checkedValueAtPath(e){const t=this.nodeAtPath(e);return t?this.getNodeCheckedValue(t):"false"}disabledValueAtPath(e){const t=this.nodeAtPath(e);return!!t&&this.getNodeDisabledValue(t)}nodeAtPath(e,t){const n=JSON.stringify(e);return this.querySelector(`${t||""}[data-path="${CSS.escape(n)}"]`)}subTreeAtPath(e){const t=this.nodeAtPath(e,"[data-node-type=sub-tree]");return t?t.closest("tree-view-sub-tree-node"):null}leafAtPath(e){return this.nodeAtPath(e,"[data-node-type=leaf]")}setNodeCheckedValue(e,t){e.setAttribute("aria-checked",t.toString())}getNodeCheckedValue(e){return e.getAttribute("aria-checked")||"false"}getNodeDisabledValue(e){return"true"===e.getAttribute("aria-disabled")}setNodeDisabledValue(e,t){t?e.setAttribute("aria-disabled","true"):e.removeAttribute("aria-disabled")}nodeHasCheckBox(e){return null!==e.querySelector(".TreeViewItemCheckbox")}nodeHasNativeAction(e){return e instanceof HTMLAnchorElement||e instanceof HTMLButtonElement}expandAncestorsForNode(e){const t=e.closest("tree-view-sub-tree-node");if(t)for(const e of t.eachAncestorSubTreeNode())e.expanded||e.expand()}infoFromNode(e,t){const n=this.getNodeType(e);if(!n)return null;const i=this.getNodeCheckedValue(e);return{node:e,type:n,path:this.getNodePath(e),checkedValue:t||i,previousCheckedValue:i}}},we=new WeakMap,be=new WeakSet,ve=function(e){for(const t of e.querySelectorAll("[aria-expanded=true]"))this.expandAncestorsForNode(t)},Ae=function(e){return"click"===e.type},Ee=function(e){const t=e.target,n=t.closest("[role=treeitem]");return n?t.closest(".TreeViewItemToggle")||t.closest(".TreeViewItemLeadingAction")?null:n:null},ye=function(e,t){n(this,be,"m",Te).call(this,t,e)?n(this,be,"m",Se).call(this,t,e):n(this,be,"m",Ae).call(this,t)?n(this,be,"m",ke).call(this,t,e):"focusin"===t.type?n(this,be,"m",Le).call(this,e):t instanceof KeyboardEvent&&n(this,be,"m",xe).call(this,t,e)},Te=function(e,t){return"click"===e.type&&this.nodeHasCheckBox(t)},Se=function(e,t){if(this.getNodeDisabledValue(t))return void e.preventDefault();"leaf"===this.getNodeType(t)&&("true"===this.getNodeCheckedValue(t)?this.setNodeCheckedValue(t,"false"):this.setNodeCheckedValue(t,"true"))},ke=function(e,t){if(this.getNodeDisabledValue(t))return void e.preventDefault();if(!(t instanceof HTMLDivElement))return;const n=this.getNodePath(t);this.dispatchEvent(new CustomEvent("treeViewBeforeNodeActivated",{bubbles:!0,cancelable:!0,detail:this.infoFromNode(t)}))&&(this.nodeHasNativeAction(t)||this.toggleAtPath(n),this.dispatchEvent(new CustomEvent("treeViewNodeActivated",{bubbles:!0,detail:this.infoFromNode(t)})))},Le=function(e){const t=this.querySelector("[aria-selected=true]");t?.setAttribute("aria-selected","false"),e.setAttribute("aria-selected","true")},xe=function(e,t){if(t&&"leaf"===this.getNodeType(t))switch(e.key){case" ":case"Enter":if(this.getNodeDisabledValue(t)){e.preventDefault();break}this.nodeHasCheckBox(t)?(e.preventDefault(),"true"===this.getNodeCheckedValue(t)?this.setNodeCheckedValue(t,"false"):this.setNodeCheckedValue(t,"true")):t instanceof HTMLAnchorElement&&t.click()}},t([x],e.TreeViewElement.prototype,"formInputContainer",void 0),t([x],e.TreeViewElement.prototype,"formInputPrototype",void 0),e.TreeViewElement=t([N],e.TreeViewElement);const Ie=(e,t,n)=>{if(t())n();else{const i=new MutationObserver((()=>{t()&&(n(),i.disconnect())}));i.observe(e,{childList:!0,subtree:!0})}};var Ne,Ce,Me,Pe,Ve,He,De,Fe,Oe,qe,Re,We,Be,$e;e.TreeViewIconPairElement=class TreeViewIconPairElement extends HTMLElement{constructor(){super(...arguments),Ne.add(this)}connectedCallback(){Ie(this,(()=>Boolean(this.collapsedIcon)&&Boolean(this.expandedIcon)),(()=>{this.expanded=this.collapsedIcon.hidden}))}showExpanded(){this.expanded=!0,n(this,Ne,"m",Ce).call(this)}showCollapsed(){this.expanded=!1,n(this,Ne,"m",Ce).call(this)}toggle(){this.expanded=!this.expanded,n(this,Ne,"m",Ce).call(this)}},Ne=new WeakSet,Ce=function(){this.expanded?(this.expandedIcon.hidden=!1,this.collapsedIcon.hidden=!0):(this.expandedIcon.hidden=!0,this.collapsedIcon.hidden=!1)},t([x],e.TreeViewIconPairElement.prototype,"expandedIcon",void 0),t([x],e.TreeViewIconPairElement.prototype,"collapsedIcon",void 0),e.TreeViewIconPairElement=t([N],e.TreeViewIconPairElement),e.TreeViewSubTreeNodeElement=class TreeViewSubTreeNodeElement extends HTMLElement{constructor(){super(...arguments),Me.add(this),Pe.set(this,null),Ve.set(this,"success"),He.set(this,void 0),De.set(this,!1)}connectedCallback(){Ie(this,(()=>Boolean(this.node)&&Boolean(this.subTree)),(()=>{n(this,Me,"m",Be).call(this)}));const{signal:e}=i(this,He,new AbortController,"f");this.addEventListener("click",this,{signal:e}),this.addEventListener("keydown",this,{signal:e}),Ie(this,(()=>Boolean(this.includeFragment)),(()=>{this.includeFragment.addEventListener("loadstart",this,{signal:e}),this.includeFragment.addEventListener("error",this,{signal:e}),this.includeFragment.addEventListener("include-fragment-replace",this,{signal:e}),this.includeFragment.addEventListener("include-fragment-replaced",(e=>{n(this,Me,"m",Oe).call(this,e)}),{signal:e})})),Ie(this,(()=>Boolean(this.retryButton)),(()=>{this.retryButton.addEventListener("click",(e=>{n(this,Me,"m",qe).call(this,e)}),{signal:e})}));new MutationObserver((()=>{if("mixed_descendants"!==this.selectStrategy)return;let e="unknown";for(const t of this.eachDirectDescendantNode())switch(`${e} ${t.getAttribute("aria-checked")||"false"}`){case"unknown mixed":case"false mixed":case"true mixed":case"false true":case"true false":e="mixed";break;case"unknown false":e="false";break;case"unknown true":e="true"}"unknown"!==e&&this.node?.getAttribute("aria-checked")!==e&&this.node?.setAttribute("aria-checked",e)})).observe(this,{childList:!0,subtree:!0,attributeFilter:["aria-checked"]})}get expanded(){return null===n(this,Pe,"f")&&i(this,Pe,"true"===this.node.getAttribute("aria-expanded"),"f"),n(this,Pe,"f")}set expanded(e){i(this,Pe,e,"f"),n(this,Me,"m",Be).call(this)}get loadingState(){return n(this,Ve,"f")}set loadingState(e){i(this,Ve,e,"f"),n(this,Me,"m",Be).call(this)}get selectStrategy(){return this.node.getAttribute("data-select-strategy")||"descendants"}disconnectedCallback(){n(this,He,"f").abort()}handleEvent(e){e.target===this.toggleButton?n(this,Me,"m",Fe).call(this,e):e.target===this.includeFragment?n(this,Me,"m",Oe).call(this,e):e instanceof KeyboardEvent?n(this,Me,"m",Re).call(this,e):e.target.closest("[role=treeitem]")===this.node&&"click"===e.type&&n(this,Me,"a",$e)&&n(this,Me,"m",We).call(this,e)}expand(){const e=this.expanded;this.expanded=!0,!e&&this.treeView&&this.treeView.dispatchEvent(new CustomEvent("treeViewNodeExpanded",{bubbles:!0,detail:this.treeView?.infoFromNode(this.node)}))}collapse(){const e=!this.expanded;if(this.expanded=!1,!e&&this.treeView){const e=this.subTree.querySelector("[tabindex='0']");e?.setAttribute("tabindex","-1"),this.node.setAttribute("tabindex","0"),this.treeView.dispatchEvent(new CustomEvent("treeViewNodeCollapsed",{bubbles:!0,detail:this.treeView?.infoFromNode(this.node)}))}}toggle(){this.expanded?this.collapse():this.expand()}get nodes(){return this.querySelectorAll(":scope > [role=treeitem]")}*eachDirectDescendantNode(){for(const e of this.subTree.querySelectorAll(":scope > li > .TreeViewItemContainer > [role=treeitem]"))yield e;for(const e of this.subTree.querySelectorAll(":scope > tree-view-sub-tree-node > li > .TreeViewItemContainer > [role=treeitem]"))yield e}*eachDescendantNode(){for(const e of this.subTree.querySelectorAll("[role=treeitem]"))yield e}*eachAncestorSubTreeNode(){if(!this.treeView)return;let e=this;for(;e&&this.treeView.contains(e);)yield e,e=e.parentElement?.closest("tree-view-sub-tree-node")}get isEmpty(){return 0===this.nodes.length}get treeView(){return this.closest("tree-view")}toggleChecked(){const e="false"===(this.treeView?.getNodeCheckedValue(this.node)||"false")?"true":"false",t=[],n=this.treeView?.infoFromNode(this.node,e);if(n&&t.push(n),"descendants"===this.selectStrategy||"mixed_descendants"===this.selectStrategy)for(const n of this.eachDescendantNode()){const i=this.treeView?.infoFromNode(n,e);i&&t.push(i)}if(this.dispatchEvent(new CustomEvent("treeViewBeforeNodeChecked",{bubbles:!0,cancelable:!0,detail:t}))){for(const n of t)n.node.setAttribute("aria-checked",e);this.dispatchEvent(new CustomEvent("treeViewNodeChecked",{bubbles:!0,cancelable:!0,detail:t}))}}},Pe=new WeakMap,Ve=new WeakMap,He=new WeakMap,De=new WeakMap,Me=new WeakSet,Fe=function(e){"click"===e.type&&(this.toggle(),e.stopPropagation())},Oe=function(e){switch(e.type){case"loadstart":this.loadingState="loading";break;case"error":this.loadingState="error";break;case"include-fragment-replace":i(this,De,document.activeElement===this.loadingIndicator.closest("[role=treeitem]"),"f"),this.loadingState="success";break;case"include-fragment-replaced":if(this.expanded=!0,n(this,De,"f")){const e=this.querySelector("[role=group] > :first-child");if(!e)return;const t=e.querySelector("[role=treeitem]");if(!t)return;t.focus()}i(this,De,!1,"f")}},qe=function(e){"click"===e.type&&(this.loadingState="loading",this.includeFragment.refetch())},Re=function(e){const t=e.target.closest("[role=treeitem]");if(t&&"sub-tree"===this.treeView?.getNodeType(t))switch(e.key){case"Enter":if(this.treeView?.getNodeDisabledValue(t)){e.preventDefault();break}e.stopPropagation(),n(this,Me,"a",$e)?this.toggleChecked():this.treeView?.nodeHasNativeAction(t)||this.toggle();break;case"ArrowRight":e.stopPropagation(),this.expand();break;case"ArrowLeft":e.stopPropagation(),this.collapse();break;case" ":if(this.treeView?.getNodeDisabledValue(t)){e.preventDefault();break}n(this,Me,"a",$e)?(e.stopPropagation(),e.preventDefault(),this.toggleChecked()):t instanceof HTMLAnchorElement?t.click():this.treeView?.nodeHasNativeAction(t)||this.toggle()}},We=function(e){this.treeView?.getNodeDisabledValue(this.node)?e.preventDefault():"click"===e.type&&(this.toggleChecked(),e.stopPropagation())},Be=function(){switch(this.expanded?(this.subTree&&(this.subTree.hidden=!1),this.node.setAttribute("aria-expanded","true"),this.treeView?.expandAncestorsForNode(this),this.iconPair&&this.iconPair.showExpanded(),this.expandedToggleIcon&&this.collapsedToggleIcon&&(this.expandedToggleIcon.removeAttribute("hidden"),this.collapsedToggleIcon.setAttribute("hidden","hidden"))):(this.subTree&&(this.subTree.hidden=!0),this.node.setAttribute("aria-expanded","false"),this.iconPair&&this.iconPair.showCollapsed(),this.expandedToggleIcon&&this.collapsedToggleIcon&&(this.expandedToggleIcon.setAttribute("hidden","hidden"),this.collapsedToggleIcon.removeAttribute("hidden"))),this.loadingState){case"loading":this.loadingFailureMessage&&(this.loadingFailureMessage.hidden=!0),this.loadingIndicator&&(this.loadingIndicator.hidden=!1);break;case"error":this.loadingIndicator&&(this.loadingIndicator.hidden=!0),this.loadingFailureMessage&&(this.loadingFailureMessage.hidden=!1);break;default:this.loadingIndicator&&(this.loadingIndicator.hidden=!0),this.loadingFailureMessage&&(this.loadingFailureMessage.hidden=!0)}},$e=function(){return this.querySelector(".TreeViewItemCheckbox")},t([x],e.TreeViewSubTreeNodeElement.prototype,"node",void 0),t([x],e.TreeViewSubTreeNodeElement.prototype,"subTree",void 0),t([x],e.TreeViewSubTreeNodeElement.prototype,"iconPair",void 0),t([x],e.TreeViewSubTreeNodeElement.prototype,"toggleButton",void 0),t([x],e.TreeViewSubTreeNodeElement.prototype,"expandedToggleIcon",void 0),t([x],e.TreeViewSubTreeNodeElement.prototype,"collapsedToggleIcon",void 0),t([x],e.TreeViewSubTreeNodeElement.prototype,"includeFragment",void 0),t([x],e.TreeViewSubTreeNodeElement.prototype,"loadingIndicator",void 0),t([x],e.TreeViewSubTreeNodeElement.prototype,"loadingFailureMessage",void 0),t([x],e.TreeViewSubTreeNodeElement.prototype,"retryButton",void 0),e.TreeViewSubTreeNodeElement=t([N],e.TreeViewSubTreeNodeElement);var je,Ke,Ue,_e,ze,Je,Ge,Xe,Ze=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},Qe=function(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n};const Ye=new WeakMap;let et=null;class IncludeFragmentElement extends HTMLElement{constructor(){super(...arguments),je.add(this),Ke.set(this,!1),Ue.set(this,new IntersectionObserver((e=>{for(const t of e)if(t.isIntersecting){const{target:e}=t;if(Ze(this,Ue,"f").unobserve(e),!(e instanceof IncludeFragmentElement))return;"lazy"===e.loading&&Ze(this,je,"m",_e).call(this)}}),{rootMargin:"0px 0px 256px 0px",threshold:.01}))}static define(e="include-fragment",t=customElements){return t.define(e,this),this}static setCSPTrustedTypesPolicy(e){et=null===e?e:Promise.resolve(e)}static get observedAttributes(){return["src","loading"]}get src(){const e=this.getAttribute("src");if(e){const t=this.ownerDocument.createElement("a");return t.href=e,t.href}return""}set src(e){this.setAttribute("src",e)}get loading(){return"lazy"===this.getAttribute("loading")?"lazy":"eager"}set loading(e){this.setAttribute("loading",e)}get accept(){return this.getAttribute("accept")||""}set accept(e){this.setAttribute("accept",e)}get data(){return Ze(this,je,"m",Je).call(this)}attributeChangedCallback(e,t){"src"===e?this.isConnected&&"eager"===this.loading&&Ze(this,je,"m",_e).call(this):"loading"===e&&this.isConnected&&"eager"!==t&&"eager"===this.loading&&Ze(this,je,"m",_e).call(this)}connectedCallback(){if(!this.shadowRoot){this.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent=":host {display: block;}",this.shadowRoot.append(e,document.createElement("slot"))}this.src&&"eager"===this.loading&&Ze(this,je,"m",_e).call(this),"lazy"===this.loading&&Ze(this,Ue,"f").observe(this)}request(){const e=this.src;if(!e)throw new Error("missing src");return new Request(e,{method:"GET",credentials:"same-origin",headers:{Accept:this.accept||"text/html"}})}load(){return Ze(this,je,"m",Je).call(this)}fetch(e){return fetch(e)}refetch(){Ye.delete(this),Ze(this,je,"m",_e).call(this)}}Ke=new WeakMap,Ue=new WeakMap,je=new WeakSet,_e=async function(){if(!Ze(this,Ke,"f")){Qe(this,Ke,!0,"f"),Ze(this,Ue,"f").unobserve(this);try{const e=await Ze(this,je,"m",ze).call(this);if(e instanceof Error)throw e;const t=e,n=document.createElement("template");n.innerHTML=t;const i=document.importNode(n.content,!0);if(!this.dispatchEvent(new CustomEvent("include-fragment-replace",{cancelable:!0,detail:{fragment:i}})))return void Qe(this,Ke,!1,"f");this.replaceWith(i),this.dispatchEvent(new CustomEvent("include-fragment-replaced"))}catch(e){this.classList.add("is-error")}finally{Qe(this,Ke,!1,"f")}}},ze=async function(){const e=this.src,t=Ye.get(this);if(t&&t.src===e)return t.data;{let t;return t=e?Ze(this,je,"m",Xe).call(this):Promise.reject(new Error("missing src")),Ye.set(this,{src:e,data:t}),t}},Je=async function(){const e=await Ze(this,je,"m",ze).call(this);if(e instanceof Error)throw e;return e.toString()},Ge=async function(e){await new Promise((e=>setTimeout(e,0)));for(const t of e)this.dispatchEvent(new Event(t))},Xe=async function(){try{await Ze(this,je,"m",Ge).call(this,["loadstart"]);const t=await this.fetch(this.request());if(200!==t.status)throw new Error(`Failed to load resource: the server responded with a status of ${t.status}`);const n=t.headers.get("Content-Type");if(!(e=this.accept,e&&e.split(",").find((e=>e.match(/^\s*\*\/\*/)))||n&&n.includes(this.accept?this.accept:"text/html")))throw new Error(`Failed to load resource: expected ${this.accept||"text/html"} but was ${n}`);const i=await t.text();let r=i;if(et){r=(await et).createHTML(i,t)}return Ze(this,je,"m",Ge).call(this,["load","loadend"]),r}catch(e){throw Ze(this,je,"m",Ge).call(this,["error","loadend"]),e}var e};const tt="undefined"!=typeof globalThis?globalThis:window;try{tt.IncludeFragmentElement=IncludeFragmentElement.define()}catch(e){if(!(tt.DOMException&&e instanceof DOMException&&"NotSupportedError"===e.name||e instanceof ReferenceError))throw e}e.TreeViewIncludeFragmentElement=class TreeViewIncludeFragmentElement extends IncludeFragmentElement{request(){const e=super.request(),t=new URL(e.url);return t.searchParams.set("path",this.getAttribute("data-path")||""),new Request(t,{method:e.method,headers:e.headers,credentials:e.credentials})}},e.TreeViewIncludeFragmentElement=t([N],e.TreeViewIncludeFragmentElement),Object.defineProperty(e,"__esModule",{value:!0})}({});
//# sourceMappingURL=primer_view_components.js.map
